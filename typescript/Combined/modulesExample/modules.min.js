var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},RaffleJS;(function(n){var i=function(){function n(n){this.name=n}return n}(),t,r,u,f;n.Prize=i,t=function(){function n(n,t){this.name=n,this.email=t}return n.prototype.getPrizeMessage=function(n){return"Congrats, "+this.name+"! You won a "+n.name},n}(),n.Attendee=t,r=function(n){function t(t,i,r){n.call(this,t,i),this.name=t,this.favoriteBeer=r}return __extends(t,n),t.prototype.getPrizeMessage=function(t){return t.name==="Succeeding with Agile book"?"Tough luck, "+this.name+"! You won another copy of "+t.name:n.prototype.getPrizeMessage.call(this,t)},t}(t),n.RegularAttendee=r,u=function(n){function t(t,i,r){n.call(this,t,i,r),this.name=t}return __extends(t,n),t.prototype.getPrizeMessage=function(t){return t.name==="KCDC Ticket"?"WTF?, "+this.name+", you won a "+t.name+"! This seems suspect.":n.prototype.getPrizeMessage.call(this,t)},t}(r),n.Organizer=u,f=function(){function n(){}return n.prototype.getPrizes=function(n){setTimeout(function(){n([new i("Succeeding with Agile book"),new i("Pluralsight Subscription"),new i("KCDC Ticket")])},1e3)},n.prototype.getAttendees=function(n){setTimeout(function(){n([new t("Moe","moe@hotmail.com"),new t("Larry","larry@geocities.com"),new t("Curly","curly@altavista.com"),new r("Jake","jake@gmail.com","Left Hand Haystack"),new u("Nick","nick@github.com"),])},1e3)},n.prototype.raffle=function(){var n=this;this.getPrizes(function(t){n.getAttendees(function(i){var r,f,e;n._attendees=i,n._prizes=t;var s=n._attendees.length,o=n._prizes.length,u=$("#results");for(u.html(""),r=0;r<o;r++)f=Math.floor(Math.random()*n._attendees.length),e=n._attendees.splice(f,1)[0],u.append(e.getPrizeMessage(n._prizes[r])+"<br/>")})})},n}(),n.RaffleService=f})(RaffleJS||(RaffleJS={})),$(function(){$("#raffleButton").click(function(){var n=new RaffleJS.RaffleService;n.raffle()})})